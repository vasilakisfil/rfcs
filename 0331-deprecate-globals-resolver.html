<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>0331-deprecate-globals-resolver - </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme -->
        

        

        <!-- Fetch Clipboard.js from CDN but have a local fallback -->
        <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
        <script>
            if (typeof Clipboard == 'undefined') {
                document.write(unescape("%3Cscript src='clipboard.min.js'%3E%3C/script%3E"));
            }
        </script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>

        <!-- Fetch store.js from local - TODO add CDN when 2.x.x is available on cdnjs -->
        <script src="store.js"></script>

        <!-- Custom JS script -->
        

    </head>
    <body class="light">
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = store.get('mdbook-theme');
            if (theme === null || theme === undefined) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = store.get('mdbook-sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li class="affix"><a href="introduction.html">Introduction</a></li><li><a href="0000-deprecate-computed-clobberability.html"><strong>1.</strong> 0000-deprecate-computed-clobberability</a></li><li><a href="0000-deprecate-computed-property-modifier.html"><strong>2.</strong> 0000-deprecate-computed-property-modifier</a></li><li><a href="0001-transform-attribute-meta-parameter.html"><strong>3.</strong> 0001-transform-attribute-meta-parameter</a></li><li><a href="0003-block-params.html"><strong>4.</strong> 0003-block-params</a></li><li><a href="0010-engines.html"><strong>5.</strong> 0010-engines</a></li><li><a href="0011-improved-cp-syntax.html"><strong>6.</strong> 0011-improved-cp-syntax</a></li><li><a href="0015-the-road-to-ember-2-0.html"><strong>7.</strong> 0015-the-road-to-ember-2-0</a></li><li><a href="0024-bound-attributes.html"><strong>8.</strong> 0024-bound-attributes</a></li><li><a href="0045-internet-explorer.html"><strong>9.</strong> 0045-internet-explorer</a></li><li><a href="0046-registry-reform.html"><strong>10.</strong> 0046-registry-reform</a></li><li><a href="0050-improved-actions.html"><strong>11.</strong> 0050-improved-actions</a></li><li><a href="0053-helpers.html"><strong>12.</strong> 0053-helpers</a></li><li><a href="0056-improved-release-cycle.html"><strong>13.</strong> 0056-improved-release-cycle</a></li><li><a href="0057-ember-data-reference-unification.html"><strong>14.</strong> 0057-ember-data-reference-unification</a></li><li><a href="0058-helper-listing.html"><strong>15.</strong> 0058-helper-listing</a></li><li><a href="0061-ember-data-background-fetch.html"><strong>16.</strong> 0061-ember-data-background-fetch</a></li><li><a href="0064-contextual-component-lookup.html"><strong>17.</strong> 0064-contextual-component-lookup</a></li><li><a href="0065-deprecation-warning-handlers.html"><strong>18.</strong> 0065-deprecation-warning-handlers</a></li><li><a href="0091-weakmap.html"><strong>19.</strong> 0091-weakmap</a></li><li><a href="0095-router-service.html"><strong>20.</strong> 0095-router-service</a></li><li><a href="0101-ember-data-friendly-errors.html"><strong>21.</strong> 0101-ember-data-friendly-errors</a></li><li><a href="0120-route-serializers.html"><strong>22.</strong> 0120-route-serializers</a></li><li><a href="0136-contains-to-includes.html"><strong>23.</strong> 0136-contains-to-includes</a></li><li><a href="0139-isHtmlSafe.html"><strong>24.</strong> 0139-isHtmlSafe</a></li><li><a href="0143-module-unification.html"><strong>25.</strong> 0143-module-unification</a></li><li><a href="0150-factory-for.html"><strong>26.</strong> 0150-factory-for</a></li><li><a href="0176-javascript-module-api.html"><strong>27.</strong> 0176-javascript-module-api</a></li><li><a href="0178-deprecate-ember-k.html"><strong>28.</strong> 0178-deprecate-ember-k</a></li><li><a href="0181-deprecate-ember-data-initializers.html"><strong>29.</strong> 0181-deprecate-ember-data-initializers</a></li><li><a href="0186-track-unique-history-location-state.html"><strong>30.</strong> 0186-track-unique-history-location-state</a></li><li><a href="0191-deprecate-component-lifecycle-hook-args.html"><strong>31.</strong> 0191-deprecate-component-lifecycle-hook-args</a></li><li><a href="0194-deprecate-custom-event-manager.html"><strong>32.</strong> 0194-deprecate-custom-event-manager</a></li><li><a href="0213-custom-components.html"><strong>33.</strong> 0213-custom-components</a></li><li><a href="0225-ember-engines-mount-params.html"><strong>34.</strong> 0225-ember-engines-mount-params</a></li><li><a href="0226-named-blocks.html"><strong>35.</strong> 0226-named-blocks</a></li><li><a href="0229-deprecate-testing-restricted-resolver.html"><strong>36.</strong> 0229-deprecate-testing-restricted-resolver</a></li><li><a href="0232-simplify-qunit-testing-api.html"><strong>37.</strong> 0232-simplify-qunit-testing-api</a></li><li><a href="0236-deprecation-ember-string.html"><strong>38.</strong> 0236-deprecation-ember-string</a></li><li><a href="0237-deprecation-ember-map.html"><strong>39.</strong> 0237-deprecation-ember-map</a></li><li><a href="0240-es-classes.html"><strong>40.</strong> 0240-es-classes</a></li><li><a href="0252-browser-support-changes.html"><strong>41.</strong> 0252-browser-support-changes</a></li><li><a href="0268-acceptance-testing-refactor.html"><strong>42.</strong> 0268-acceptance-testing-refactor</a></li><li><a href="0276-named-args.html"><strong>43.</strong> 0276-named-args</a></li><li><a href="0278-template-only-components.html"><strong>44.</strong> 0278-template-only-components</a></li><li><a href="0280-remove-application-wrapper.html"><strong>45.</strong> 0280-remove-application-wrapper</a></li><li><a href="0281-es5-getters.html"><strong>46.</strong> 0281-es5-getters</a></li><li><a href="0286-block-let-template-helper.html"><strong>47.</strong> 0286-block-let-template-helper</a></li><li><a href="0287-promote-in-element-to-public-api.html"><strong>48.</strong> 0287-promote-in-element-to-public-api</a></li><li><a href="0293-record-data.html"><strong>49.</strong> 0293-record-data</a></li><li><a href="0294-optional-jquery.html"><strong>50.</strong> 0294-optional-jquery</a></li><li><a href="0297-deprecate-ember-logger.html"><strong>51.</strong> 0297-deprecate-ember-logger</a></li><li><a href="0308-deprecate-property-lookup-fallback.html"><strong>52.</strong> 0308-deprecate-property-lookup-fallback</a></li><li><a href="0311-angle-bracket-invocation.html"><strong>53.</strong> 0311-angle-bracket-invocation</a></li><li><a href="0318-array-helper.html"><strong>54.</strong> 0318-array-helper</a></li><li><a href="0322-deprecate-copy-copyable.html"><strong>55.</strong> 0322-deprecate-copy-copyable</a></li><li><a href="0324-deprecate-component-isvisible.html"><strong>56.</strong> 0324-deprecate-component-isvisible</a></li><li><a href="0326-ember-data-filter-deprecation.html"><strong>57.</strong> 0326-ember-data-filter-deprecation</a></li><li><a href="0329-deprecated-ember-evented-in-ember-data.html"><strong>58.</strong> 0329-deprecated-ember-evented-in-ember-data</a></li><li><a href="0331-deprecate-globals-resolver.html" class="active"><strong>59.</strong> 0331-deprecate-globals-resolver</a></li><li><a href="0332-ember-data-record-links-and-meta.html"><strong>60.</strong> 0332-ember-data-record-links-and-meta</a></li><li><a href="0335-deprecate-send-action.html"><strong>61.</strong> 0335-deprecate-send-action</a></li><li><a href="0337-native-class-constructor-update.html"><strong>62.</strong> 0337-native-class-constructor-update</a></li><li><a href="0340-deprecate-ember-merge.html"><strong>63.</strong> 0340-deprecate-ember-merge</a></li><li><a href="0345-discord.html"><strong>64.</strong> 0345-discord</a></li><li><a href="0370-deprecate-computed-volatile.html"><strong>65.</strong> 0370-deprecate-computed-volatile</a></li><li><a href="0372-ember-data-model-factory-for.html"><strong>66.</strong> 0372-ember-data-model-factory-for</a></li><li><a href="0373-Element-Modifier-Managers.html"><strong>67.</strong> 0373-Element-Modifier-Managers</a></li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page" tabindex="-1">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html">
                            <i id="print-button" class="fa fa-print" title="Print this book"></i>
                        </a>
                    </div>
                </div>

                <div id="content" class="content">
                    <ul>
<li>Start Date: 2018-05-08</li>
<li>RFC PR: https://github.com/emberjs/rfcs/pull/331</li>
<li>Ember Issue: (leave this empty)</li>
</ul>
<a class="header" href="0331-deprecate-globals-resolver.html#summary" id="summary"><h1>Summary</h1></a>
<p>Deprecate all use of:</p>
<ul>
<li>Ember Globals Resolver (looks up a class via a global namespace such as &quot;App&quot;)</li>
<li>Creation of a Global Namespace (<code>var App = Ember.Namespace.create();</code>)</li>
<li>Ember.TEMPLATES array</li>
<li>&lt;script type=&quot;text/handlebars&quot; data-template-name=&quot;path/to/template&quot;&gt;</li>
</ul>
<p>Use of any of the above should trigger a deprecation warning, with a target
of version 4.0</p>
<a class="header" href="0331-deprecate-globals-resolver.html#motivation" id="motivation"><h1>Motivation</h1></a>
<p>Over the past years we have transitioned to using Ember-CLI as the main way
to compile Ember apps. The globals resolver is a holdover and primarily
facilitates use of Ember without Ember-CLI.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#the-globals-resolver" id="the-globals-resolver"><h1>The Globals Resolver</h1></a>
<p>For those who are not aware, the globals resolver is available via <code>@ember/globals-resolver</code> or
<code>Ember.DefaultResolver</code>. For more information, see the
<a href="https://www.emberjs.com/api/ember/release/classes/GlobalsResolver/properties">api</a>.
Using it looks like the following:</p>
<pre><code class="language-js">// app.js
var App = Ember.Application.create();

App.Router.map(function() {
  this.route('about');
});

App.AboutRoute = Ember.Route.extend({
  model: function() {
    return ['red', 'yellow', 'blue'];
  }
});
</code></pre>
<pre><code class="language-html">// index.html
&lt;script type=&quot;text/x-handlebars&quot; data-template-name=&quot;about&quot;&gt;
  &lt;ul&gt;
    {{#each model as |item|}}
      &lt;li&gt;{{item}}&lt;/li&gt;
    {{/each}}
  &lt;/ul&gt;
&lt;/script&gt;
</code></pre>
<a class="header" href="0331-deprecate-globals-resolver.html#implementation-details" id="implementation-details"><h1>Implementation Details</h1></a>
<p>One small detail required to implement this RFC: ember-cli's own default resolver,
<a href="https://github.com/ember-cli/ember-resolver">ember-resolver</a>
currently still extends from the globals resolver.
In order to implement this RFC, the ember-cli resolver will need to be changed
so that it does <em>not</em> extend from the globals resolver, or otherwise ember-cli users
will get a deprecation warning as well.
However, changing the base class of the ember cli classic resolver is a breaking change,
so prior to ember/ember-cli version 4.0 we need to take another step.
In the ember-cli classic resolver, deprecate any runtime calls where there is fallback to the globals mode resolver. This would be a deprecation in ember-cli's resolver. We could bump a major version of ember-cli-resolver removing the base class and release it in ember-cli after an LTS of ember-cli.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#transition-path" id="transition-path"><h1>Transition Path</h1></a>
<p>Primarily, the transition path is to recommend using Ember-CLI.</p>
<p>During the 3.x timeframe, it MAY become increasingly difficult to use this old functionality.
For example, with the release of 3.0, we already stopped publishing builds that support
globals mode. Here are some of the changes that have impacted or may soon impact users of globals mode:</p>
<a class="header" href="0331-deprecate-globals-resolver.html#impact-of-es6-modules" id="impact-of-es6-modules"><h2>Impact of ES6 modules</h2></a>
<p>Users of ES6 modules must use their own build tooling to convert them to named AMD modules via Babel.
No support is provided for &lt;script type=&quot;module&quot;&gt; at this time, although that may change.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#impact-of-new-module-imports" id="impact-of-new-module-imports"><h2>Impact of New Module Imports</h2></a>
<p>Globals based apps are only able to use new module imports via the polyfill available at
https://github.com/ember-cli/babel-plugin-ember-modules-api-polyfill No build support for this is provided.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#impact-of-not-publishing-globals-builds" id="impact-of-not-publishing-globals-builds"><h2>Impact of not publishing globals builds</h2></a>
<p>It is necessary to get a globals build of Ember.js from the npm package now that globals builds
are no longer published to S3, builds.emberjs.com, and CDNs.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#impact-of-not-generating-a-globals-build-in-emberjs-package" id="impact-of-not-generating-a-globals-build-in-emberjs-package"><h2>Impact of not Generating a Globals Build in Ember.js Package</h2></a>
<p>At some point during the 3.x cycle, it may be that we no longer publish a globals build in the
npm package. At that point, it may become necessary to use Ember-CLI to generate a globals build
of Ember.js</p>
<a class="header" href="0331-deprecate-globals-resolver.html#impact-of-package-splitting" id="impact-of-package-splitting"><h2>Impact of Package Splitting</h2></a>
<p>Work has started on package splitting. It is likely that the globals resolver may not be included
in a default partial build of Ember.js and may be moved to its own package for easy removal.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#impact-of-tree-shaking" id="impact-of-tree-shaking"><h2>Impact of Tree Shaking</h2></a>
<p>If the globals resolver is moved to a separate package, it will likely not be included in a build
of Ember.js by default unless tree shaking is turned off.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#how-we-teach-this" id="how-we-teach-this"><h1>How We Teach This</h1></a>
<p>We already do teach this and don't teach the globals resolver. No changes required here.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#deprecation-guide" id="deprecation-guide"><h2>Deprecation Guide</h2></a>
<p>A draft deprecation guide has been pull requested at https://github.com/ember-learn/deprecation-app/pull/155</p>
<a class="header" href="0331-deprecate-globals-resolver.html#drawbacks" id="drawbacks"><h1>Drawbacks</h1></a>
<p>A drawback is that people may want alternate build tooling to Ember-CLI.
We have mitigated this by openly publishing the ember-cli resolver and all parts of the
ember-cli ecosystem under the MIT license.
Alternate build tooling may simply use this open source code to build a competing
infrastructure to ember-cli.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#alternatives" id="alternatives"><h1>Alternatives</h1></a>
<p>Without doing this, we will have to continue to ship and maintain this rarely used functionality.
We don't believe this is a reasonable alternative.</p>
<a class="header" href="0331-deprecate-globals-resolver.html#unresolved-questions" id="unresolved-questions"><h1>Unresolved questions</h1></a>
<p>There has never been a transition guide for transitioning an old codebase to Ember-CLI.
Do we want to create one at this late date?</p>

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a rel="prev" href="0329-deprecated-ember-evented-in-ember-data.html" class="mobile-nav-chapters previous">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="0332-ember-data-record-links-and-meta.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="0329-deprecated-ember-evented-in-ember-data.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="0332-ember-data-record-links-and-meta.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <!-- Livereload script (if served using the cli tool) -->
        

        

        

        

        <script src="highlight.js"></script>
        <script src="book.js"></script>
    </body>
</html>
